// ðŸ‘‘ BOSSES DATABASE
// 20+ stage bosses with multi-phase mechanics
// Each boss has 2-4 phases with unique abilities and transitions

export const BOSSES_DATABASE = {
  // ============= EARLY GAME BOSSES (Stage 1-3) =============

  boss_slime_king: {
    id: "boss_slime_king",
    name: "Slime King",
    stage: 1,
    tier: "SS",
    element: "nature",
    size: 80,
    xp: 500,
    gold: 300,
    phases: [
      {
        phase: 1,
        hp: 2000,
        atk: 50,
        def: 15,
        speed: 70,
        attackRange: 100,
        abilities: ["slime_split", "bounce_attack"],
        behavior: "bounce",
        sprite: { color: "#4caf50", glow: "#a5d6a7", size: "large" },
        dialogue: ["You dare challenge the Slime King?!"],
      },
      {
        phase: 2,
        hpThreshold: 0.5,
        hp: 2000,
        atk: 70,
        def: 20,
        speed: 85,
        attackRange: 120,
        abilities: ["slime_split", "bounce_attack", "toxic_rain"],
        behavior: "aggressive_bounce",
        sprite: { color: "#2e7d32", glow: "#66bb6a", size: "large", enraged: true },
        dialogue: ["I will not be defeated so easily!"],
      },
    ],
    loot: {
      guaranteed: ["material_slime_core"],
      rare: ["weapon_nature_staff_b", "armor_plate_chest_b"],
      epic: ["core_rare"],
      rareRate: 0.6,
      epicRate: 0.15,
    },
    description: "Gelatinous monarch that splits into smaller slimes",
  },

  boss_goblin_warlord: {
    id: "boss_goblin_warlord",
    name: "Goblin Warlord",
    stage: 2,
    tier: "SS",
    element: "neutral",
    size: 72,
    xp: 600,
    gold: 350,
    phases: [
      {
        phase: 1,
        hp: 2500,
        atk: 60,
        def: 25,
        speed: 90,
        attackRange: 90,
        abilities: ["war_cry", "axe_throw", "summon_goblins"],
        behavior: "aggressive",
        sprite: { color: "#8b4513", glow: "#d32f2f", armor: true },
        dialogue: ["Weaklings! My horde will crush you!"],
      },
      {
        phase: 2,
        hpThreshold: 0.6,
        hp: 2500,
        atk: 80,
        def: 30,
        speed: 100,
        attackRange: 110,
        abilities: ["war_cry", "axe_throw", "summon_goblins", "berserk_mode"],
        behavior: "berserker",
        sprite: { color: "#5d4037", glow: "#f44336", armor: true, enraged: true },
        dialogue: ["RAAAAGH! I'll tear you apart!"],
      },
    ],
    loot: {
      guaranteed: ["material_warlord_axe"],
      rare: ["weapon_fire_sword_b", "armor_helmet_b"],
      epic: ["accessory_power_ring_a"],
      rareRate: 0.65,
      epicRate: 0.18,
    },
    description: "Brutal goblin leader who commands hordes",
  },

  boss_skeleton_lord: {
    id: "boss_skeleton_lord",
    name: "Skeleton Lord",
    stage: 3,
    tier: "SS",
    element: "dark",
    size: 76,
    xp: 700,
    gold: 400,
    phases: [
      {
        phase: 1,
        hp: 3000,
        atk: 70,
        def: 35,
        speed: 85,
        attackRange: 150,
        abilities: ["bone_spear", "raise_skeletons", "death_coil"],
        behavior: "necromancer",
        sprite: { color: "#424242", glow: "#9c27b0", crown: true },
        dialogue: ["Kneel before the Lord of Death!"],
      },
      {
        phase: 2,
        hpThreshold: 0.5,
        hp: 3000,
        atk: 90,
        def: 40,
        speed: 95,
        attackRange: 180,
        abilities: ["bone_spear", "raise_skeletons", "death_coil", "soul_drain"],
        behavior: "aggressive_necromancer",
        sprite: { color: "#212121", glow: "#7b1fa2", crown: true, aura: true },
        dialogue: ["Your soul will join my army!"],
      },
    ],
    loot: {
      guaranteed: ["material_cursed_crown"],
      rare: ["weapon_dark_sword_ss", "armor_plate_chest_a"],
      epic: ["core_dark"],
      rareRate: 0.68,
      epicRate: 0.20,
    },
    description: "Undead monarch who commands the dead",
  },

  // ============= MID GAME BOSSES (Stage 4-6) =============

  boss_dragon_red: {
    id: "boss_dragon_red",
    name: "Crimson Dragon",
    stage: 4,
    tier: "SSS",
    element: "fire",
    size: 96,
    xp: 1000,
    gold: 600,
    phases: [
      {
        phase: 1,
        hp: 4000,
        atk: 100,
        def: 50,
        speed: 110,
        attackRange: 300,
        abilities: ["fire_breath", "wing_buffet", "tail_swipe"],
        behavior: "aerial",
        sprite: { color: "#d32f2f", glow: "#ff6b35", wings: true, scales: true },
        dialogue: ["You dare enter my lair, mortal?"],
      },
      {
        phase: 2,
        hpThreshold: 0.66,
        hp: 4000,
        atk: 120,
        def: 55,
        speed: 120,
        attackRange: 320,
        abilities: ["fire_breath", "wing_buffet", "tail_swipe", "inferno_dive"],
        behavior: "aggressive_aerial",
        sprite: { color: "#c62828", glow: "#ff8a65", wings: true, scales: true, flames: true },
        dialogue: ["Feel the wrath of dragonkind!"],
      },
      {
        phase: 3,
        hpThreshold: 0.33,
        hp: 4000,
        atk: 150,
        def: 60,
        speed: 130,
        attackRange: 350,
        abilities: ["fire_breath", "wing_buffet", "tail_swipe", "inferno_dive", "meteor_storm"],
        behavior: "enraged_aerial",
        sprite: { color: "#b71c1c", glow: "#ff5722", wings: true, scales: true, flames: "intense" },
        dialogue: ["I will burn everything to ash!"],
      },
    ],
    loot: {
      guaranteed: ["material_dragon_heart"],
      rare: ["weapon_fire_sword_s", "armor_plate_chest_s"],
      epic: ["core_fire", "weapon_fusion_staff_sss"],
      rareRate: 0.75,
      epicRate: 0.25,
    },
    description: "Ancient fire dragon with devastating breath",
  },

  boss_demon_prince: {
    id: "boss_demon_prince",
    name: "Demon Prince",
    stage: 5,
    tier: "SSS",
    element: "dark",
    size: 88,
    xp: 1200,
    gold: 700,
    phases: [
      {
        phase: 1,
        hp: 4500,
        atk: 110,
        def: 45,
        speed: 120,
        attackRange: 200,
        abilities: ["hellfire_blast", "shadow_strike", "demon_summon"],
        behavior: "aggressive",
        sprite: { color: "#2c3e50", glow: "#e74c3c", horns: true, wings: true },
        dialogue: ["Bow before infernal might!"],
      },
      {
        phase: 2,
        hpThreshold: 0.6,
        hp: 4500,
        atk: 130,
        def: 50,
        speed: 130,
        attackRange: 220,
        abilities: ["hellfire_blast", "shadow_strike", "demon_summon", "dark_portal"],
        behavior: "teleport_aggressive",
        sprite: { color: "#1a252f", glow: "#d32f2f", horns: true, wings: true, aura: "dark" },
        dialogue: ["You cannot escape the darkness!"],
      },
      {
        phase: 3,
        hpThreshold: 0.3,
        hp: 4500,
        atk: 160,
        def: 55,
        speed: 140,
        attackRange: 250,
        abilities: ["hellfire_blast", "shadow_strike", "demon_summon", "dark_portal", "apocalypse"],
        behavior: "enraged_teleport",
        sprite: { color: "#0d1117", glow: "#c62828", horns: true, wings: true, aura: "inferno" },
        dialogue: ["This world will burn!"],
      },
    ],
    loot: {
      guaranteed: ["material_demon_core"],
      rare: ["weapon_dark_gun_s", "armor_helmet_s"],
      epic: ["core_dark", "accessory_dark_amulet_s"],
      rareRate: 0.78,
      epicRate: 0.28,
    },
    description: "Infernal prince commanding legions of demons",
  },

  boss_lich_king: {
    id: "boss_lich_king",
    name: "Lich King",
    stage: 6,
    tier: "SSS",
    element: "dark",
    size: 84,
    xp: 1400,
    gold: 800,
    phases: [
      {
        phase: 1,
        hp: 3500,
        atk: 120,
        def: 60,
        speed: 75,
        attackRange: 400,
        abilities: ["death_beam", "plague_cloud", "raise_army", "phylactery"],
        behavior: "necromancer_king",
        sprite: { color: "#2c3e50", glow: "#8e44ad", crown: true, staff: true },
        dialogue: ["Death is only the beginning..."],
      },
      {
        phase: 2,
        hpThreshold: 0.5,
        hp: 3500,
        atk: 140,
        def: 65,
        speed: 85,
        attackRange: 420,
        abilities: ["death_beam", "plague_cloud", "raise_army", "phylactery", "frost_nova"],
        behavior: "aggressive_necromancer",
        sprite: { color: "#1a252f", glow: "#9b59b6", crown: true, staff: true, aura: "undeath" },
        dialogue: ["Your resistance is futile!"],
      },
      {
        phase: 3,
        hpThreshold: 0.25,
        hp: 3500,
        atk: 170,
        def: 70,
        speed: 95,
        attackRange: 450,
        abilities: ["death_beam", "plague_cloud", "raise_army", "phylactery", "frost_nova", "apocalypse_wave"],
        behavior: "enraged_necromancer",
        sprite: { color: "#0d1117", glow: "#6a1b9a", crown: true, staff: true, aura: "death" },
        dialogue: ["I am immortal! You cannot win!"],
      },
    ],
    loot: {
      guaranteed: ["material_phylactery"],
      rare: ["weapon_dark_sword_ss", "armor_plate_chest_ss"],
      epic: ["core_dark", "core_ice"],
      rareRate: 0.80,
      epicRate: 0.30,
    },
    description: "Undead sorcerer king with phylactery immortality",
  },

  // ============= LATE GAME BOSSES (Stage 7-9) =============

  boss_ancient_dragon: {
    id: "boss_ancient_dragon",
    name: "Ancient Dragon",
    stage: 7,
    tier: "SSS+",
    element: "fusion",
    size: 112,
    xp: 2000,
    gold: 1200,
    phases: [
      {
        phase: 1,
        hp: 6000,
        atk: 150,
        def: 80,
        speed: 100,
        attackRange: 350,
        abilities: ["tri_breath", "dragon_roar", "scale_shield"],
        behavior: "wise_dragon",
        sprite: { color: "#607d8b", glow: "#90caf9", wings: true, ancient: true },
        dialogue: ["You seek to challenge eons of power?"],
      },
      {
        phase: 2,
        hpThreshold: 0.7,
        hp: 6000,
        atk: 180,
        def: 85,
        speed: 110,
        attackRange: 380,
        abilities: ["tri_breath", "dragon_roar", "scale_shield", "elemental_fury"],
        behavior: "aggressive_dragon",
        sprite: { color: "#546e7a", glow: "#64b5f6", wings: true, ancient: true, elements: true },
        dialogue: ["You have proven worthy of my wrath!"],
      },
      {
        phase: 3,
        hpThreshold: 0.4,
        hp: 6000,
        atk: 200,
        def: 90,
        speed: 120,
        attackRange: 400,
        abilities: ["tri_breath", "dragon_roar", "scale_shield", "elemental_fury", "ancient_magic"],
        behavior: "enraged_dragon",
        sprite: { color: "#455a64", glow: "#42a5f5", wings: true, ancient: true, elements: "all", aura: "primordial" },
        dialogue: ["Witness true draconic power!"],
      },
      {
        phase: 4,
        hpThreshold: 0.15,
        hp: 6000,
        atk: 250,
        def: 95,
        speed: 130,
        attackRange: 450,
        abilities: ["tri_breath", "dragon_roar", "scale_shield", "elemental_fury", "ancient_magic", "cataclysm"],
        behavior: "desperate_dragon",
        sprite: { color: "#37474f", glow: "#2196f3", wings: true, ancient: true, elements: "all", aura: "apocalyptic" },
        dialogue: ["I will not fall to a mere mortal!"],
      },
    ],
    loot: {
      guaranteed: ["material_ancient_scale", "material_dragon_soul"],
      rare: ["weapon_fusion_staff_sss", "armor_plate_chest_ss"],
      epic: ["core_myth", "accessory_fusion_ring_sss"],
      legendary: ["weapon_ultimate_dragon_blade"],
      rareRate: 0.85,
      epicRate: 0.40,
      legendaryRate: 0.10,
    },
    description: "Primordial dragon from the dawn of time",
  },

  boss_titan: {
    id: "boss_titan",
    name: "Titan",
    stage: 8,
    tier: "SSS+",
    element: "earth",
    size: 128,
    xp: 2500,
    gold: 1500,
    phases: [
      {
        phase: 1,
        hp: 8000,
        atk: 180,
        def: 120,
        speed: 70,
        attackRange: 150,
        abilities: ["titan_slam", "earthquake", "stone_pillars"],
        behavior: "colossus",
        sprite: { color: "#5d4037", glow: "#ff6b35", massive: true, runes: true },
        dialogue: ["Insignificant creature..."],
      },
      {
        phase: 2,
        hpThreshold: 0.75,
        hp: 8000,
        atk: 210,
        def: 125,
        speed: 80,
        attackRange: 170,
        abilities: ["titan_slam", "earthquake", "stone_pillars", "mountain_rage"],
        behavior: "aggressive_colossus",
        sprite: { color: "#4e342e", glow: "#ff8a65", massive: true, runes: "glowing" },
        dialogue: ["You dare strike a Titan?!"],
      },
      {
        phase: 3,
        hpThreshold: 0.5,
        hp: 8000,
        atk: 240,
        def: 130,
        speed: 90,
        attackRange: 190,
        abilities: ["titan_slam", "earthquake", "stone_pillars", "mountain_rage", "tectonic_shift"],
        behavior: "enraged_colossus",
        sprite: { color: "#3e2723", glow: "#ff5722", massive: true, runes: "blazing" },
        dialogue: ["The earth itself will destroy you!"],
      },
      {
        phase: 4,
        hpThreshold: 0.2,
        hp: 8000,
        atk: 300,
        def: 135,
        speed: 100,
        attackRange: 220,
        abilities: ["titan_slam", "earthquake", "stone_pillars", "mountain_rage", "tectonic_shift", "world_breaker"],
        behavior: "berserk_colossus",
        sprite: { color: "#1b0000", glow: "#ff3d00", massive: true, runes: "explosive", cracks: true },
        dialogue: ["I WILL SHATTER THIS WORLD!"],
      },
    ],
    loot: {
      guaranteed: ["material_titan_core", "material_primordial_stone"],
      rare: ["armor_plate_chest_ss", "accessory_legendary_belt_ss"],
      epic: ["core_myth", "weapon_fusion_staff_sss"],
      legendary: ["armor_titan_set"],
      rareRate: 0.88,
      epicRate: 0.45,
      legendaryRate: 0.12,
    },
    description: "Colossal being of earth and stone",
  },

  boss_void_lord: {
    id: "boss_void_lord",
    name: "Void Lord",
    stage: 9,
    tier: "SSS+",
    element: "dark",
    size: 100,
    xp: 3000,
    gold: 1800,
    phases: [
      {
        phase: 1,
        hp: 7000,
        atk: 200,
        def: 70,
        speed: 130,
        attackRange: 400,
        abilities: ["void_beam", "reality_tear", "summon_void_spawn"],
        behavior: "void_entity",
        sprite: { color: "#0d1117", glow: "#9c27b0", ethereal: true, tentacles: true },
        dialogue: ["You gaze into the abyss..."],
      },
      {
        phase: 2,
        hpThreshold: 0.66,
        hp: 7000,
        atk: 230,
        def: 75,
        speed: 140,
        attackRange: 420,
        abilities: ["void_beam", "reality_tear", "summon_void_spawn", "dimension_shift"],
        behavior: "aggressive_void",
        sprite: { color: "#06090f", glow: "#7b1fa2", ethereal: true, tentacles: "many", distortion: true },
        dialogue: ["The void answers back..."],
      },
      {
        phase: 3,
        hpThreshold: 0.33,
        hp: 7000,
        atk: 270,
        def: 80,
        speed: 150,
        attackRange: 450,
        abilities: ["void_beam", "reality_tear", "summon_void_spawn", "dimension_shift", "null_zone"],
        behavior: "enraged_void",
        sprite: { color: "#000000", glow: "#6a1b9a", ethereal: true, tentacles: "countless", distortion: "reality" },
        dialogue: ["Reality itself bends to my will!"],
      },
    ],
    loot: {
      guaranteed: ["material_void_essence", "material_reality_fragment"],
      rare: ["weapon_dark_sword_ss", "weapon_dark_gun_s"],
      epic: ["core_dark", "accessory_dark_amulet_s"],
      legendary: ["weapon_void_scythe"],
      rareRate: 0.90,
      epicRate: 0.50,
      legendaryRate: 0.15,
    },
    description: "Eldritch being from beyond reality",
  },

  // ============= ENDGAME BOSSES (Stage 10+) =============

  boss_god_king: {
    id: "boss_god_king",
    name: "God King",
    stage: 10,
    tier: "MYTHIC",
    element: "fusion",
    size: 120,
    xp: 5000,
    gold: 3000,
    phases: [
      {
        phase: 1,
        hp: 10000,
        atk: 250,
        def: 100,
        speed: 120,
        attackRange: 500,
        abilities: ["divine_smite", "celestial_blade", "holy_aura"],
        behavior: "god_monarch",
        sprite: { color: "#ffd700", glow: "#ffeb3b", divine: true, crown: "radiant", wings: "golden" },
        dialogue: ["Kneel before divinity!"],
      },
      {
        phase: 2,
        hpThreshold: 0.75,
        hp: 10000,
        atk: 280,
        def: 110,
        speed: 130,
        attackRange: 520,
        abilities: ["divine_smite", "celestial_blade", "holy_aura", "judgment_ray"],
        behavior: "aggressive_god",
        sprite: { color: "#ffc107", glow: "#fff59d", divine: true, crown: "blazing", wings: "brilliant" },
        dialogue: ["You dare defy a god?!"],
      },
      {
        phase: 3,
        hpThreshold: 0.5,
        hp: 10000,
        atk: 320,
        def: 120,
        speed: 140,
        attackRange: 550,
        abilities: ["divine_smite", "celestial_blade", "holy_aura", "judgment_ray", "heaven_strike"],
        behavior: "enraged_god",
        sprite: { color: "#ff9800", glow: "#ffecb3", divine: true, crown: "explosive", wings: "radiant", aura: "divine" },
        dialogue: ["Feel the wrath of heaven!"],
      },
      {
        phase: 4,
        hpThreshold: 0.2,
        hp: 10000,
        atk: 400,
        def: 130,
        speed: 150,
        attackRange: 600,
        abilities: ["divine_smite", "celestial_blade", "holy_aura", "judgment_ray", "heaven_strike", "apocalypse_now"],
        behavior: "berserk_god",
        sprite: { color: "#ff6b35", glow: "#fffde7", divine: true, crown: "apocalyptic", wings: "transcendent", aura: "celestial_fury" },
        dialogue: ["I AM ABSOLUTE! I WILL NOT FALL!"],
      },
    ],
    loot: {
      guaranteed: ["material_divine_essence", "material_god_fragment"],
      rare: ["weapon_fusion_staff_sss", "armor_plate_chest_ss"],
      epic: ["core_light", "core_dark", "core_myth"],
      legendary: ["weapon_god_slayer", "armor_god_king_set"],
      mythic: ["accessory_divine_crown"],
      rareRate: 0.95,
      epicRate: 0.60,
      legendaryRate: 0.25,
      mythicRate: 0.05,
    },
    description: "Divine ruler with absolute power",
  },

  // Continued in next message due to length...
};

// Helper functions
export function getBossById(id) {
  return BOSSES_DATABASE[id] || null;
}

export function getBossByStage(stage) {
  return Object.values(BOSSES_DATABASE).find(b => b.stage === stage) || null;
}

export function getBossesByTier(tier) {
  return Object.values(BOSSES_DATABASE).filter(b => b.tier === tier);
}

export function getBossesByElement(element) {
  return Object.values(BOSSES_DATABASE).filter(b => b.element === element);
}

export function getAllBosses() {
  return Object.values(BOSSES_DATABASE);
}

export function getBossPhase(boss, currentHp) {
  if (!boss || !boss.phases) return null;
  
  const maxHp = boss.phases.reduce((sum, p) => sum + p.hp, 0);
  const hpPercent = currentHp / maxHp;
  
  // Find the appropriate phase based on HP threshold
  for (let i = boss.phases.length - 1; i >= 0; i--) {
    const phase = boss.phases[i];
    if (!phase.hpThreshold || hpPercent <= phase.hpThreshold) {
      return phase;
    }
  }
  
  return boss.phases[0];
}

console.log("ðŸ‘‘ Bosses Database loaded: " + Object.keys(BOSSES_DATABASE).length + " bosses");

