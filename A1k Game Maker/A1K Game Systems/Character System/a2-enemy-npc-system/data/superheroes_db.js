// ðŸ¦¸ SUPERHEROES DATABASE
// 20 superhero NPCs: 8 allies, 7 rivals, 5 neutral
// Heroes can be recruited, have unique powers, and assist in combat

export const SUPERHEROES_DATABASE = {
  // ============= ALLIES (8) - Join player automatically or via quests =============

  hero_iron_guardian: {
    id: "hero_iron_guardian",
    name: "Iron Guardian",
    title: "The Steel Protector",
    category: "ally",
    tier: "A",
    element: "tech",
    size: 48,
    personality: "Protective, loyal, steadfast defender",
    powers: ["super_strength", "metal_armor", "shield_bash"],
    hp: 3000,
    atk: 80,
    def: 120,
    speed: 90,
    attackRange: 80,
    attackType: "melee",
    behavior: "tank",
    recruitCondition: "automatic",
    sprite: { color: "#b0b0b0", glow: "#5ba3ff", armor: "heavy", tech: true },
    abilities: ["shield_wall", "iron_slam", "taunt", "fortify"],
    passive: "Takes 30% less damage, draws enemy aggro",
    comboAttack: {
      name: "Steel Fortress",
      description: "Player + Iron Guardian create impenetrable shield wall",
      cooldown: 30000,
    },
    loyalty: 100,
    cost: 0,
    xp: 0,
    description: "Armored tank hero who protects allies",
  },

  hero_blaze_runner: {
    id: "hero_blaze_runner",
    name: "Blaze Runner",
    title: "The Speed Demon",
    category: "ally",
    tier: "A",
    element: "fire",
    size: 44,
    personality: "Energetic, quick, always moving",
    powers: ["super_speed", "fire_trail", "rapid_strikes"],
    hp: 1800,
    atk: 120,
    def: 40,
    speed: 220,
    attackRange: 60,
    attackType: "melee",
    behavior: "assassin",
    recruitCondition: "complete_race_quest",
    sprite: { color: "#ff6b35", glow: "#ffb347", flames: true, speed_lines: true },
    abilities: ["speed_dash", "flame_punch", "afterimage", "burnout"],
    passive: "Gains speed boost after each kill (stacks 5x)",
    comboAttack: {
      name: "Blazing Cyclone",
      description: "Player + Blaze create firestorm of rapid attacks",
      cooldown: 25000,
    },
    loyalty: 80,
    cost: 1000,
    xp: 0,
    description: "Speedster hero who strikes fast and hard",
  },

  hero_aqua_sage: {
    id: "hero_aqua_sage",
    name: "Aqua Sage",
    title: "The Water Healer",
    category: "ally",
    tier: "B",
    element: "ice",
    size: 42,
    personality: "Calm, wise, supportive healer",
    powers: ["water_healing", "ice_shield", "purify"],
    hp: 2200,
    atk: 60,
    def: 60,
    speed: 100,
    attackRange: 200,
    attackType: "ranged",
    behavior: "support",
    recruitCondition: "save_from_danger",
    sprite: { color: "#4ecdc4", glow: "#a8e6cf", water: true, aura: "healing" },
    abilities: ["healing_wave", "ice_barrier", "cleanse", "water_prison"],
    passive: "Heals nearby allies 50 HP every 5 seconds",
    comboAttack: {
      name: "Tidal Restoration",
      description: "Player + Aqua fully heal and shield entire team",
      cooldown: 40000,
    },
    loyalty: 90,
    cost: 1500,
    xp: 0,
    description: "Support hero who heals and shields",
  },

  hero_volt_knight: {
    id: "hero_volt_knight",
    name: "Volt Knight",
    title: "The Thunder Warrior",
    category: "ally",
    tier: "A",
    element: "lightning",
    size: 46,
    personality: "Honorable, disciplined, electric",
    powers: ["lightning_sword", "thunder_armor", "chain_attacks"],
    hp: 2500,
    atk: 110,
    def: 80,
    speed: 130,
    attackRange: 90,
    attackType: "melee",
    behavior: "warrior",
    recruitCondition: "win_tournament",
    sprite: { color: "#ffeb3b", glow: "#fff59d", sword: true, lightning: true },
    abilities: ["thunder_strike", "volt_dash", "chain_lightning", "overcharge"],
    passive: "Attacks have 30% chance to chain to nearby enemies",
    comboAttack: {
      name: "Storm Fury",
      description: "Player + Volt unleash screen-wide lightning storm",
      cooldown: 35000,
    },
    loyalty: 85,
    cost: 2000,
    xp: 0,
    description: "Lightning warrior with chaining attacks",
  },

  hero_terra_titan: {
    id: "hero_terra_titan",
    name: "Terra Titan",
    title: "The Earth Shaker",
    category: "ally",
    tier: "S",
    element: "earth",
    size: 56,
    personality: "Strong, reliable, grounded",
    powers: ["super_strength", "earth_manipulation", "seismic_slam"],
    hp: 4000,
    atk: 100,
    def: 100,
    speed: 70,
    attackRange: 100,
    attackType: "melee",
    behavior: "bruiser",
    recruitCondition: "defeat_earth_boss",
    sprite: { color: "#8b4513", glow: "#ff6b35", massive: true, rocks: true },
    abilities: ["earthquake", "stone_fist", "rock_armor", "ground_pound"],
    passive: "Cannot be knocked back, immune to stun",
    comboAttack: {
      name: "Mountain Breaker",
      description: "Player + Terra create devastating earthquake",
      cooldown: 45000,
    },
    loyalty: 95,
    cost: 3000,
    xp: 0,
    description: "Massive earth hero with unstoppable power",
  },

  hero_star_weaver: {
    id: "hero_star_weaver",
    name: "Star Weaver",
    title: "The Cosmic Mage",
    category: "ally",
    tier: "S",
    element: "light",
    size: 44,
    personality: "Mystical, enigmatic, powerful",
    powers: ["cosmic_magic", "star_beams", "gravity_control"],
    hp: 2000,
    atk: 140,
    def: 50,
    speed: 110,
    attackRange: 400,
    attackType: "ranged",
    behavior: "mage",
    recruitCondition: "solve_cosmic_puzzle",
    sprite: { color: "#ffd93d", glow: "#fffacd", stars: true, floating: true },
    abilities: ["star_bolt", "black_hole", "nova_burst", "constellation"],
    passive: "Attacks ignore 50% of enemy defense",
    comboAttack: {
      name: "Supernova",
      description: "Player + Star unleash massive cosmic explosion",
      cooldown: 50000,
    },
    loyalty: 75,
    cost: 4000,
    xp: 0,
    description: "Cosmic mage with devastating magic",
  },

  hero_shadow_fox: {
    id: "hero_shadow_fox",
    name: "Shadow Fox",
    title: "The Silent Blade",
    category: "ally",
    tier: "A",
    element: "dark",
    size: 40,
    personality: "Stealthy, cunning, mysterious",
    powers: ["invisibility", "shadow_step", "critical_strikes"],
    hp: 1600,
    atk: 150,
    def: 30,
    speed: 200,
    attackRange: 70,
    attackType: "melee",
    behavior: "stealth_assassin",
    recruitCondition: "find_in_shadows",
    sprite: { color: "#2c3e50", glow: "#9b59b6", cloak: true, stealth: true },
    abilities: ["backstab", "smoke_bomb", "shadow_clone", "vanish"],
    passive: "First attack from stealth deals 300% damage",
    comboAttack: {
      name: "Shadow Dance",
      description: "Player + Fox become invisible and strike together",
      cooldown: 30000,
    },
    loyalty: 70,
    cost: 2500,
    xp: 0,
    description: "Stealth assassin who strikes from shadows",
  },

  hero_phoenix_heart: {
    id: "hero_phoenix_heart",
    name: "Phoenix Heart",
    title: "The Flame Immortal",
    category: "ally",
    tier: "SS",
    element: "fire",
    size: 48,
    personality: "Passionate, reborn, never gives up",
    powers: ["fire_control", "resurrection", "healing_flames"],
    hp: 2800,
    atk: 130,
    def: 70,
    speed: 120,
    attackRange: 250,
    attackType: "ranged",
    behavior: "phoenix",
    recruitCondition: "complete_fire_trials",
    sprite: { color: "#d32f2f", glow: "#ff8a65", wings: true, flames: "phoenix" },
    abilities: ["fire_wave", "ash_revival", "phoenix_dive", "immolate"],
    passive: "Revives once per battle at 50% HP with fire explosion",
    comboAttack: {
      name: "Eternal Flame",
      description: "Player + Phoenix revive all fallen allies",
      cooldown: 60000,
    },
    loyalty: 100,
    cost: 5000,
    xp: 0,
    description: "Phoenix hero who never stays dead",
  },

  // ============= RIVALS (7) - Must defeat before recruiting =============

  hero_crimson_blade: {
    id: "hero_crimson_blade",
    name: "Crimson Blade",
    title: "The Blood Swordsman",
    category: "rival",
    tier: "A",
    element: "dark",
    size: 46,
    personality: "Arrogant, skilled, seeks worthy opponents",
    powers: ["master_swordsmanship", "blood_magic", "berserker_rage"],
    hp: 3200,
    atk: 140,
    def: 60,
    speed: 150,
    attackRange: 85,
    attackType: "melee",
    behavior: "aggressive_duelist",
    defeatCondition: "win_1v1_duel",
    sprite: { color: "#d32f2f", glow: "#f44336", sword: true, blood_aura: true },
    abilities: ["crimson_slash", "blood_frenzy", "execution", "life_drain"],
    passive: "Gains attack with each kill (max 50%)",
    comboAttack: {
      name: "Scarlet Storm",
      description: "Player + Crimson unleash devastating sword combo",
      cooldown: 35000,
    },
    defeatDialogue: ["You've proven yourself... I'll follow your lead."],
    recruitCost: 3500,
    loyalty: 60,
    description: "Master swordsman seeking the ultimate duel",
  },

  hero_thunder_queen: {
    id: "hero_thunder_queen",
    name: "Thunder Queen",
    title: "The Storm Sovereign",
    category: "rival",
    tier: "S",
    element: "lightning",
    size: 48,
    personality: "Proud, powerful, commands respect",
    powers: ["storm_control", "lightning_manipulation", "flight"],
    hp: 3500,
    atk: 160,
    def: 70,
    speed: 140,
    attackRange: 350,
    attackType: "ranged",
    behavior: "storm_mage",
    defeatCondition: "survive_lightning_trial",
    sprite: { color: "#ffc107", glow: "#ffee58", crown: true, lightning: "intense" },
    abilities: ["lightning_strike", "thunder_clap", "storm_summon", "bolt_barrage"],
    passive: "Lightning attacks chain to 3 additional targets",
    comboAttack: {
      name: "Divine Tempest",
      description: "Player + Queen summon apocalyptic storm",
      cooldown: 40000,
    },
    defeatDialogue: ["Impressive... You may rule alongside me."],
    recruitCost: 5000,
    loyalty: 55,
    description: "Proud storm queen who rules the skies",
  },

  hero_frost_maiden: {
    id: "hero_frost_maiden",
    name: "Frost Maiden",
    title: "The Ice Princess",
    category: "rival",
    tier: "A",
    element: "ice",
    size: 44,
    personality: "Cold, calculating, tests worthiness",
    powers: ["ice_magic", "freeze", "blizzard_summon"],
    hp: 2800,
    atk: 120,
    def: 90,
    speed: 110,
    attackRange: 300,
    attackType: "ranged",
    behavior: "ice_mage",
    defeatCondition: "break_ice_fortress",
    sprite: { color: "#4ecdc4", glow: "#80deea", ice_dress: true, floating: true },
    abilities: ["ice_shard", "frozen_prison", "blizzard", "absolute_zero"],
    passive: "Slows all nearby enemies by 30%",
    comboAttack: {
      name: "Eternal Winter",
      description: "Player + Maiden freeze all enemies solid",
      cooldown: 38000,
    },
    defeatDialogue: ["You've melted my icy heart..."],
    recruitCost: 3000,
    loyalty: 65,
    description: "Ice princess who tests potential allies",
  },

  hero_titan_breaker: {
    id: "hero_titan_breaker",
    name: "Titan Breaker",
    title: "The Giant Slayer",
    category: "rival",
    tier: "S",
    element: "neutral",
    size: 52,
    personality: "Competitive, wants to prove strength",
    powers: ["titan_strength", "armor_breaker", "unstoppable"],
    hp: 4500,
    atk: 180,
    def: 110,
    speed: 90,
    attackRange: 95,
    attackType: "melee",
    behavior: "juggernaut",
    defeatCondition: "match_his_strength",
    sprite: { color: "#616161", glow: "#ff6b35", massive: true, gauntlets: true },
    abilities: ["titan_fist", "ground_breaker", "armor_shatter", "iron_will"],
    passive: "Deals 200% damage to bosses and large enemies",
    comboAttack: {
      name: "World Breaker",
      description: "Player + Titan deliver earth-shattering blow",
      cooldown: 45000,
    },
    defeatDialogue: ["Finally, someone worthy of fighting beside!"],
    recruitCost: 6000,
    loyalty: 70,
    description: "Mighty warrior who hunts giants",
  },

  hero_void_walker: {
    id: "hero_void_walker",
    name: "Void Walker",
    title: "The Reality Bender",
    category: "rival",
    tier: "SS",
    element: "dark",
    size: 46,
    personality: "Mysterious, tests mental fortitude",
    powers: ["void_magic", "reality_warp", "dimension_shift"],
    hp: 3000,
    atk: 170,
    def: 60,
    speed: 130,
    attackRange: 400,
    attackType: "ranged",
    behavior: "void_mage",
    defeatCondition: "survive_void_realm",
    sprite: { color: "#0d1117", glow: "#9c27b0", ethereal: true, distorted: true },
    abilities: ["void_beam", "dimension_rift", "null_zone", "chaos_bolt"],
    passive: "Teleports randomly every 10 seconds",
    comboAttack: {
      name: "Reality Collapse",
      description: "Player + Walker erase enemies from existence",
      cooldown: 50000,
    },
    defeatDialogue: ["The void acknowledges your strength..."],
    recruitCost: 7000,
    loyalty: 50,
    description: "Enigmatic void mage from beyond reality",
  },

  hero_flame_empress: {
    id: "hero_flame_empress",
    name: "Flame Empress",
    title: "The Inferno Ruler",
    category: "rival",
    tier: "SS",
    element: "fire",
    size: 50,
    personality: "Fiery, passionate, demands excellence",
    powers: ["supreme_pyromancy", "flame_emperor", "inferno"],
    hp: 3800,
    atk: 190,
    def: 80,
    speed: 125,
    attackRange: 320,
    attackType: "ranged",
    behavior: "pyro_queen",
    defeatCondition: "extinguish_eternal_flame",
    sprite: { color: "#f7931e", glow: "#ff5722", crown: true, flames: "supreme" },
    abilities: ["meteor_storm", "flame_tsunami", "phoenix_rebirth", "hellfire"],
    passive: "All fire damage increased by 50%",
    comboAttack: {
      name: "Apocalypse Inferno",
      description: "Player + Empress burn everything to ash",
      cooldown: 55000,
    },
    defeatDialogue: ["You've earned the right to stand beside flames!"],
    recruitCost: 8000,
    loyalty: 60,
    description: "Supreme pyromancer who commands infernos",
  },

  hero_metal_champion: {
    id: "hero_metal_champion",
    name: "Metal Champion",
    title: "The Steel Warrior",
    category: "rival",
    tier: "A",
    element: "tech",
    size: 50,
    personality: "Honorable, seeks fair combat",
    powers: ["metal_control", "weapon_mastery", "durability"],
    hp: 3600,
    atk: 150,
    def: 130,
    speed: 100,
    attackRange: 90,
    attackType: "melee",
    behavior: "champion",
    defeatCondition: "win_arena_championship",
    sprite: { color: "#b0b0b0", glow: "#5ba3ff", armor: "champion", weapons: true },
    abilities: ["steel_storm", "metal_shield", "weapon_arsenal", "iron_resolve"],
    passive: "Reflects 20% of damage taken back to attacker",
    comboAttack: {
      name: "Ultimate Arsenal",
      description: "Player + Champion summon every weapon type",
      cooldown: 42000,
    },
    defeatDialogue: ["A true champion! Let's fight together!"],
    recruitCost: 4500,
    loyalty: 75,
    description: "Arena champion who respects strength",
  },

  // ============= NEUTRAL (5) - Quest givers, trainers, merchants =============

  hero_sage_mentor: {
    id: "hero_sage_mentor",
    name: "Sage Mentor",
    title: "The Wise Teacher",
    category: "neutral",
    tier: "S",
    element: "light",
    size: 44,
    personality: "Wise, patient, guides others",
    powers: ["ancient_knowledge", "skill_training", "wisdom"],
    hp: 2500,
    atk: 90,
    def: 60,
    speed: 80,
    attackRange: 250,
    attackType: "support",
    behavior: "mentor",
    interaction: "trains_abilities",
    sprite: { color: "#ffd93d", glow: "#fffacd", robes: true, staff: true, aura: "wise" },
    services: ["skill_training", "stat_boost", "advice"],
    trainingCost: 1000,
    description: "Ancient sage who teaches powerful techniques",
  },

  hero_merchant_guild: {
    id: "hero_merchant_guild",
    name: "Guild Master",
    title: "The Wealthy Trader",
    category: "neutral",
    tier: "B",
    element: "neutral",
    size: 42,
    personality: "Business-minded, fair, helpful",
    powers: ["merchant_network", "appraisal", "negotiation"],
    hp: 2000,
    atk: 50,
    def: 40,
    speed: 100,
    attackRange: 0,
    attackType: "none",
    behavior: "merchant",
    interaction: "sells_items",
    sprite: { color: "#ffd700", glow: "#ffeb3b", wealthy: true, coins: true },
    services: ["sell_items", "buy_items", "rare_goods"],
    shopDiscount: 0.1,
    description: "Wealthy merchant with rare goods",
  },

  hero_quest_oracle: {
    id: "hero_quest_oracle",
    name: "Oracle",
    title: "The Future Seer",
    category: "neutral",
    tier: "A",
    element: "light",
    size: 40,
    personality: "Mystical, knows the future, cryptic",
    powers: ["foresight", "prophecy", "guidance"],
    hp: 1800,
    atk: 60,
    def: 30,
    speed: 90,
    attackRange: 0,
    attackType: "none",
    behavior: "oracle",
    interaction: "gives_quests",
    sprite: { color: "#9c27b0", glow: "#ce93d8", crystal_ball: true, mystical: true },
    services: ["quest_giver", "map_reveal", "hints"],
    questRewards: "special_items",
    description: "Mystical oracle who sees all paths",
  },

  hero_blacksmith_master: {
    id: "hero_blacksmith_master",
    name: "Master Smith",
    title: "The Forge Legend",
    category: "neutral",
    tier: "A",
    element: "fire",
    size: 48,
    personality: "Gruff, skilled, perfects craft",
    powers: ["master_crafting", "weapon_forge", "armor_smith"],
    hp: 3000,
    atk: 100,
    def: 80,
    speed: 70,
    attackRange: 0,
    attackType: "none",
    behavior: "blacksmith",
    interaction: "upgrades_equipment",
    sprite: { color: "#8b4513", glow: "#ff6b35", hammer: true, anvil: true, fire: true },
    services: ["upgrade_weapon", "upgrade_armor", "reforge", "enhance"],
    upgradeCost: 500,
    description: "Legendary blacksmith who upgrades gear",
  },

  hero_arena_master: {
    id: "hero_arena_master",
    name: "Arena Master",
    title: "The Battle Lord",
    category: "neutral",
    tier: "S",
    element: "neutral",
    size: 52,
    personality: "Competitive, fair, loves battle",
    powers: ["combat_mastery", "arena_control", "challenge"],
    hp: 4000,
    atk: 120,
    def: 100,
    speed: 110,
    attackRange: 100,
    attackType: "melee",
    behavior: "arena_host",
    interaction: "hosts_battles",
    sprite: { color: "#d32f2f", glow: "#f44336", armor: "gladiator", weapons: "dual" },
    services: ["arena_battles", "tournaments", "rewards"],
    arenaRewards: "gold_and_items",
    description: "Arena master who hosts epic battles",
  },
};

// Helper functions
export function getHeroById(id) {
  return SUPERHEROES_DATABASE[id] || null;
}

export function getHeroesByCategory(category) {
  return Object.values(SUPERHEROES_DATABASE).filter(h => h.category === category);
}

export function getAllies() {
  return getHeroesByCategory("ally");
}

export function getRivals() {
  return getHeroesByCategory("rival");
}

export function getNeutralHeroes() {
  return getHeroesByCategory("neutral");
}

export function getHeroesByTier(tier) {
  return Object.values(SUPERHEROES_DATABASE).filter(h => h.tier === tier);
}

export function getHeroesByElement(element) {
  return Object.values(SUPERHEROES_DATABASE).filter(h => h.element === element);
}

export function getAllHeroes() {
  return Object.values(SUPERHEROES_DATABASE);
}

export function canRecruit(hero, playerGold, defeatedRivals = []) {
  if (hero.category === "ally") {
    // Allies require cost and meeting recruit condition
    return playerGold >= (hero.cost || 0);
  }
  
  if (hero.category === "rival") {
    // Rivals must be defeated first
    const defeated = defeatedRivals.includes(hero.id);
    const canAfford = playerGold >= (hero.recruitCost || 0);
    return defeated && canAfford;
  }
  
  // Neutral heroes cannot be recruited as combat allies
  return false;
}

console.log("ðŸ¦¸ Superheroes Database loaded: " + Object.keys(SUPERHEROES_DATABASE).length + " heroes");

