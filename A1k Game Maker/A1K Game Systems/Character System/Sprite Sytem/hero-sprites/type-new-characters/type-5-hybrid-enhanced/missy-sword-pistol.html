<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missy Sword & Pistol - Hybrid Enhanced</title>
    <style>
        * {margin: 0; padding: 0; box-sizing: border-box;}
        body {min-height: 100vh; background: #0a0a0a; color: #e0e0e0; font-family: 'Courier New', monospace; display: flex; align-items: center; justify-content: center; padding: 20px;}
        #container {display: flex; gap: 30px; max-width: 1200px;}
        canvas {border: 2px solid #333; image-rendering: pixelated; background: #1a1a1a;}
        #controls {background: rgba(255, 255, 255, 0.03); border: 1px solid #333; border-radius: 8px; padding: 20px; width: 350px;}
        h1 {font-size: 16px; margin-bottom: 20px; color: #fff; border-bottom: 2px solid #444; padding-bottom: 10px;}
        .control-group {margin-bottom: 16px;}
        label {display: block; font-size: 12px; color: #999; margin-bottom: 6px;}
        select, button {width: 100%; padding: 8px 12px; background: #1a1a1a; border: 1px solid #444; color: #fff; border-radius: 4px; cursor: pointer;}
        button {margin-top: 8px; background: #2a2a2a;}
        .btn-group {display: grid; grid-template-columns: 1fr 1fr; gap: 8px;}
    </style>
</head>
<body>
    <div id="container">
        <canvas id="c" width="128" height="128"></canvas>
        <div id="controls">
            <h1>‚öîÔ∏èüî´ MISSY (HYBRID)</h1>
            <div class="control-group"><label>Animation</label><select id="a"><option value="idle">Idle</option><option value="walk">Walk</option><option value="attack">Attack</option></select></div>
            <div class="control-group"><label>Palette</label><select id="p"><option value="f">Fire</option><option value="i">Ice</option><option value="s">Shadow</option></select></div>
            <div class="control-group"><label>Export</label><div class="btn-group"><button id="e">PNG</button><button id="j">JSON</button></div></div>
        </div>
    </div>
    <script>
        const c = document.getElementById('c'), x = c.getContext('2d');
        x.imageSmoothingEnabled = false;
        let an = 'idle', fr = 0, tm = 0, pl = 'f';
        const ps = {f: {s: ['#4a3428', '#5c4033'], c: ['#1a1a1a', '#2a2a2a'], w: ['#ff0000', '#ff3333']}, i: {s: ['#4a3428', '#5c4033'], c: ['#0a1a2a', '#1a2a3a'], w: ['#00ffff', '#33ffff']}, s: {s: ['#4a3428', '#5c4033'], c: ['#1a0a2a', '#2a1a3a'], w: ['#aa00ff', '#cc33ff']}};
        const as = {idle: {f: 8, t: 250}, walk: {f: 8, t: 125}, attack: {f: 6, t: 83}};
        function dr() {const p = ps[pl], cx = 64, cy = 64; let b = Math.sin(fr / 4 * Math.PI); x.clearRect(0, 0, 128, 128); x.fillStyle = '#000'; x.fillRect(cx - 10, cy + 20, 6, 16); x.fillRect(cx + 4, cy + 20, 6, 16); x.fillRect(cx - 12, cy + 4, 24, 20); x.fillStyle = '#FF8800'; x.fillRect(cx - 4, cy + 10, 8, 6); x.fillStyle = '#FFD4E0'; x.fillRect(cx - 18, cy + 8, 6, 10); x.fillStyle = '#000'; x.fillRect(cx - 10, cy - 16, 20, 18); x.fillRect(cx - 12, cy - 23, 4, 6); x.fillRect(cx + 8, cy - 23, 4, 6); x.fillStyle = '#FF8800'; x.fillRect(cx - 6, cy - 28, 12, 3); x.fillStyle = '#00FF00'; x.fillRect(cx - 4, cy - 10, 3, 3); x.fillStyle = p.w[0]; x.fillRect(cx - 25, cy + 14, 6, 4); x.fillRect(cx + 20, cy + 3, 2, 8); x.fillStyle = '#000'; x.beginPath(); x.moveTo(cx + 10); x.bezierCurveTo(cx + 15, cy + 25, cx + 20, cy + 30, cx + 18, cy + 38); x.lineWidth = 4; x.stroke();}
        function lp(t) {if (tm += 16; tm >= as[an].t) {tm = 0; fr++; if (fr >= as[an].f) fr = 0;} dr(); requestAnimationFrame(lp);}
        document.getElementById('a').addEventListener('change', (e) => an = e.target.value);
        document.getElementById('p').addEventListener('change', (e) => pl = e.target.value);
        document.getElementById('e').addEventListener('click', () => {const l = document.createElement('a'); l.download = `missy-${an}.png`; l.href = c.toDataURL('image/png'); l.click();});
        c.style.width = '384px'; c.style.height = '384px'; lp(0);
    </script>
</body>
</html>
